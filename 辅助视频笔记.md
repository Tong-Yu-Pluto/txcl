# 数字图像处理

## 1 概述
### 1.1 数字图像与数字图像处理
1. 图与像

   1. 图：是物体反射或者透射电磁波的分布。

   2. 像：是人的视觉系统对接收的图信息在大脑中形成的印象。

2. 图像处理的方法：

     1. **模拟图像处理**：也称光学图像处理，它是利用光学透镜或光学照相方法对模拟图像进行的处理，其实时性强、速度快、处理信息量大、分辨率高，但是处理精度差，难有判断功能。

     2. **数字图像处理**：就是利用计算机技术或其他数字技术，对图像信息进行某些数学运算和各种加工处理，以改善图像的视觉效果和提高图像实用性的技术。

     3. **光电结合处理**：：用光学方法完成运算量巨大的处理（如频谱变换等），而用计算机对光学处理结果(如频谱)进行分析判断等处理。该方法是前两种方法的有机给音，它集结了二者的优点。

3. 图像处理的基本特征：系统的输入和输出都是图像。

4. 图像分析：通过对图像中不同对象进行分割来对图像中目标进行分类和识别的技术。

5. 图像分析的基本特征：输入是图像，输出是对输入图像进行描述的信息。

6. 图像处理与图像分析的关系

   ![image-20200302111907972](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302111907972.png)

### 1.2 数字图像的质量

1. 灰度级：表示图像明暗程度的整数量，如 0 到 255 。
2. 层次：表示图像实际拥有的灰度级的数量。
3. 对比度：指一幅图像中灰度反差的大小，对比度 = 最大亮度 / 最小亮度。
4. 清晰度：与亮度、对比度、尺寸大小、颜色饱和度有关。
5. 图像质量优劣的客观指标，$L$ 是灰度级范围。
   1. 均方误差（MSE）：$MSE = \cfrac{1}{NM} \sum_{i=1}^{N} \sum_{j=1}^{M}(f_{ij}-f_{ij}') $
   2. 峰值信噪比（PSNR）：$PSNR=10 \log_{10}{\cfrac{L^2}{MSE}}$

### 1.3 数字图像处理系统组成及其研究内容

1. 基本图象处理系统的结构

   ![image-20200302113638295](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302113638295.png)

2. 图像处理技术研究的内容
   + **图像变换**：是简化图像处理过程和提高图像处理效果的基本技术，最典型的图像变换主要有傅里叶变换、离散余弦变换和小波变换等。
   + **图像增强**：是或简单地突出图像中感兴趣的特征，或想方显现图像中那些模糊了的细节，以使图像更清 晰地被显示或更适合于人或机器的处理与分析的一种技术。
   + **图像恢复**：是一种从图像退化的数学或概率模型出发，研究改进图像外观，从而使恢复以后的图像尽可 能地反映原始图像的本来面目的一种技术，其目的是获得与景物真实面貌相像的图像。
   + **图像压缩编码**：是在不损失图像质量或少损失图像质量的前提下，尽可能地减少图像的存储量，以满足图像 存储和实时传输应用需求的一种技术。
   + **彩色图像处理**：颜色是一个强有力的描绘子，它常常可简化目标物的识别和提取。人可以辨别几千种不同的颜色，但只能区分出几十种灰度级，这使得颜色在人工图像分析中显得特别重要。
   + **图像的三维重建**：由物体截面投影来重建截面图像的一种图像处理技术。 最典型的应用是医学上的计算机断层摄影技术(CT)。它用于人体头部、腹部等内部器官的无损伤诊断，其基本方法就是根据人体截面投影，经过计算机处理来重建截面图像。
   + **图像分割**：是图像处理技术中最为困难的任务之一，其基本思路是把一幅图像划分成背景和目标，从而 提取感兴趣的目标来。
   + **图像的表示和描述**：基本思路是通过对图像中感兴趣的特征的定性和定量描述，从而赋予识别出的目标以符号标识和解释。

## 2 数字图像处理的基础

### 2.1 人眼的视觉特性

1. 视觉系统基本构造

   ![image-20200302122715992](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302122715992.png)

2. 整体视觉过程

   ![image-20200302122829822](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302122829822.png)

3. 图像对比度：背景亮度不同，人眼所感受的主观亮度值也不一样，亮背景下显得暗、暗背景下显得亮，这种效应就叫同时对比度。

4. 图像优劣的客观指标

   1. 均方误差（MSE）

      $$MSE = \cfrac{1}{NM} \sum_{i=1}^{N} \sum_{j=1}^{M}(f_{ij}-f_{ij}^{''})$$

### 2.2 像素间的关系

1. 像素的邻域

   + 4-邻域

     ![image-20200302125907068](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302125907068.png)

   + 4-对角邻域

     ![image-20200302125943174](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302125943174.png)

   + 8-邻域

     ![image-20200302130018304](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302130018304.png)

2. 判断两个像素是否连接
   1. 是否邻接
   2. 灰度值是否满足某个特定的相似准则
3. 像素的三种连接：假设 $V$ 为灰度值集合，

   + 4-连接：2 个像素 $p$ 和 $r$ 在 $V$ 中取值，且 $r$ 在 $N_{4}{(p)}$ 中
   + 8-连接：2 个像素 $p$ 和 $r$ 在 $V$ 中取值，且 $r$ 在 $N_{8}{(p)}$ 中
   + m-连接：2 个像素 $p$ 和 $r$ 在 $V$ 中取值，且满足下列条件之一：
     + $r$ 在 $N_{4}{(p)}$ 中
     + $r$ 在 $N_{D}{(p)}$ 中，且集合 $N_{4}{(p)} \cap N_{4}{(r)}$ 是空集（交集无点属于 $V$）

4. 当像素间同时存在4-连接和8-连接时，优先采用4-连接。

5. 距离度量：点 $p(x,y)$ 与点 $q=(s,t)$

   1. 欧氏距离：$D_{e}(p,q)=[(x-s)^{2}+(y-t)^{2}]^{\frac{1}{2}}$

   2. $D_{4}$ 距离（城市距离）：$D_{4}(p,q)=|x-s|+|y-t|$

      ![image-20200302155755355](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302155755355.png)

      

   3. $D_{8}$ 距离（棋盘距离）：$D_{8}(p,q)=\max(|x-s|,|y-t|)$

      ![image-20200302160003395](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302160003395.png)

### 2.3 图像文件类型

1. 位图：是通过许多像素点表示一幅图像，每个像素具有颜色属性和位置属性。

2. 位图的类型

   1. **二值图像**：二值图像只有黑白两种颜色，一个像素仅占1，0 表示黑，1表示白，或相反。
   2. **亮度图像**：在亮度图像中，像素灰度级用 8 位表示，所以每个像素都是介于黑色和白色之间的 256 种灰度中的一种。

   3. **索引图像**：颜色是预先定义，索引颜色的图像最多只能显示256种颜色。由数值矩阵和色彩映射矩阵组成。
   4. **RGB图像**：一幅RGB图像就是彩色像素有一个 $M \times N \times 3$ 数组, 其中每一个彩色像素点都是在特定空间位置的彩色图像对应的红，绿，蓝三个分量.

### 2.4 基本运算

1. 图像的数学变换

   1. 空间域：图像的代数运算和集合运算，都是利用对输入图像进行加工而得到输出图像
   2. 转换空间：如傅里叶变换等，将原定义在图像空间的图像以某种形式转换到另一个空间，并利用输入图像在这些空间的特有性质有效而快速地对这些图像进行处理和分析。

2. 图像的像素级运算：对一幅图像中的每个像素点的灰度值进行运算。

   1. 点运算：

      ![image-20200302165719461](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302165719461.png)

      + 线性点运算

        ![image-20200302165912657](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302165912657.png)

      + 非线性点运算

        ![image-20200302170211423](C:\Users\Pluto\AppData\Roaming\Typora\typora-user-images\image-20200302170211423.png)

   2. 代数运算：

      1. 加法：去除”叠加性“噪音、生成图像叠加效果
      2. 减法：去除不需要的叠加性背景、检测统一场景两幅图像之间的变化
      3. 乘法：图像的局部显示、用二位蒙板图像与原图像做乘法

   3. 逻辑运算：

      1. 求反：获得一个图像的负像、获得一个图像的补图像
      2. 异或：获得相交子图像
      3. 与：两个图像的相交子图
      4. 或：合并子图像

3. 图像的空域变换：
   1. 几何变换：改变图像中物体对象（像素）之间的空间关系，如平移、旋转、镜像、放缩、拉伸等变换。
   2. 非几何变换、直方图变换